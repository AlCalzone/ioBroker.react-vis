<html>
	<head>
		<title>Huhu</title>
		<!-- Load our own files -->
		<link rel="stylesheet" href="./style/style.scss" />
		<!-- connection to the backend -->
		<script>
			// const socketUrl = `http://${location.hostname}:8082`;
			const socketUrl = `https://heizung.fritz.box:8082`;
			const socketLibUrl = `${socketUrl}/lib/js/socket.io.js`;
			const socketLibScript = document.createElement("script");
			socketLibScript.onload = () => {
				window.socket = io(socketUrl)
					.on("connected", () => {
						window.onSocketLoaded?.();
					})
					.on("error", console.error)
					.open();
			};
			socketLibScript.onerror = (e) => {
				console.error(JSON.stringify(e));
			};
			socketLibScript.src = socketLibUrl;
			document.head.appendChild(socketLibScript);
		</script>
	</head>

	<body>
		<div id="app"></div>
		<!-- load parcel sources -->
		<script type="text/javascript" src="./src/index.tsx"></script>
	</body>
</html>
